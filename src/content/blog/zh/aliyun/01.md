---
title: "阿里云服务器折腾记录（一）"
date: "2026-01-09"
description: "“云端（公网入口）”与“本地（计算中心）”协同"
---

> 我具有以下配置的阿里云服务器，我希望尽可能利用该服务器，请根据该配置给出完美适配资源配置的实施方案（折腾方案）：
> 
> 地域：华中1（武汉-本地地域）
>
> 套餐配置：2 核 vCPU | 2 GB 内存 | 40 GB ESSD | 200 Mbps 限峰值带宽 | BGP 公网线路类型 | 1 IPv4 固定公网地址

---

既然你选择了这四个方向，说明你的核心需求是：**高带宽利用、跨设备协作和自动化运维**。

在 2GB 内存的限制下，我们需要利用 **1Panel 的容器化管理**优势，精细分配资源。以下是针对这四个方案的 **1Panel 落地实施指南**：


### 1. FRP (内网穿透)：把家里的电脑“搬”到公网

**核心价值：** 你的云服务器有公网 IP 和 200M 带宽，它是做内网穿透最完美的“跳板”。

* **部署方式：**
* 在 1Panel 应用商店安装 **FRP 服务端 (frps)**。
* **场景模拟：** 如果你家里有一台高性能游戏主机，但没有公网 IP。你可以在家里跑 frp 客户端，通过这台服务器，实现在外面用手机、平板直接访问家里的电脑。


* **带宽优势：** 常见的免费穿透只有 1-5Mbps，而你现在拥有 **200Mbps**，甚至可以支持你从外网远程串流家里的 3A 大作（Steam Link / Moonlight）。

### 2. RustDesk：自建“极速”远程桌面中继

**核心价值：** 彻底告别向日葵、TeamViewer 的限速和收费，利用 200Mbps 带宽实现 60 帧无感远程。

* **部署方式：** 1Panel 应用商店搜索 **RustDesk Server**。
* **关键配置：**
* 它包含两个容器：`hbbs` (ID 服务器) 和 `hbbr` (中继服务器)。
* **防火墙开孔（重要）：** 必须在阿里云安全组和 1Panel 防火墙中打开 TCP 端口：`21115, 21116, 21117, 21118, 21119` 以及 UDP 端口：`21116`。


* **使用方法：** 在你的 PC 和被控端输入这台服务器的公网 IP，填入密钥。你会体验到什么是真正的“秒连”。

### 3. AList：打造全能“云盘聚合站”

**核心价值：** 将你这台 200Mbps 带宽的服务器变成一个超强中转站。

* **部署方式：** 在 1Panel 的“应用商店”搜索 **AList** 一键安装。
* **配置建议：**
* **挂载云盘：** 挂载阿里云盘、夸克、百度网盘等。
* **启用 WebDAV：** 开启后，你可以在家里的电脑、电视（用 PotPlayer 或 Infuse）直接连接服务器 IP，由于有 200Mbps 带宽，播放云盘里的 4K 电影就像播放本地文件一样流畅。
* **离线下载：** AList 支持对接 Aria2。你可以把服务器当成下载机，下完后直接自动转存到云盘。


### 4. 青龙面板：自动化脚本管家

**核心价值：** 薅羊毛、自动签到、定时任务。

* **部署方式：** 1Panel 应用商店搜索 **青龙** 安装。
* **内存优化（针对 2GB）：**
* 青龙面板运行脚本时会占用内存，建议不要同时运行几十个任务。
* **定时避让：** 修改 Cron 表达式，让不同的脚本交替运行，避免在整点（如 0:00）所有任务一起启动导致系统卡死。
* **精简依赖：** 只安装必要的 Node.js 或 Python 依赖包。


### 🚀 避坑与资源优化建议（必读）

针对你的配置，这四个应用全开会非常接近 2GB 内存的极限，请务必进行以下操作：

1. **优先设置 Swap（虚拟内存）：**
* 在 1Panel 的“主机”->“工具”里，设置一个 **2048MB - 4096MB** 的 Swap 文件。这能保证当青龙面板跑大型脚本导致内存瞬间升高时，服务器不会直接挂掉。


2. **防火墙策略（安全第一）：**
* **RustDesk：** 上文提到的 21115-21119 端口。
* **FRP：** 默认 7000 端口。、
* **AList：** 默认 5244 端口。
* **青龙：** 默认 5700 端口。
* *建议：* 在 1Panel 防火墙中只对你需要的端口放行，不用的端口全部关闭。


3. **流量预警：**
* 虽然是 200Mbps 峰值带宽，但请确认你的套餐是“固定带宽”还是“按量计费”。如果是按量计费，AList 跑大流量视频时会产生较高费用。建议在 1Panel 的监控页面时刻关注流量消耗。


4. **数据备份：**
* 你没有额外的数据盘，40GB 空间全在系统盘。请在 1Panel 开启“计划任务”，定期将 AList 和青龙的配置数据库备份并上传到你的云盘，防止系统崩溃。
---